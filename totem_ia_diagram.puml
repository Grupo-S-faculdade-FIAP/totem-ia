@startuml Component_Diagram
title Diagrama de Componentes - TOTEM IA
skinparam backgroundColor #FEFEFE

package "Frontend" {
    [Interface Web] as WebUI
    [Interface Touch] as TouchUI
}

package "Backend" {
    [Flask App] as Flask
    [API REST] as API
}

package "Inteligência Artificial" {
    [Classificador SVM] as SVM
    [Extração de Features] as Features
    [Modelo Treinado] as Model
}

package "Dados" {
    [Dataset de Imagens] as Dataset
    [Banco SQLite] as DB
}

package "Hardware Principal" {
    [ESP32-S3-CAM] as ESP32
    [Câmera Integrada] as Camera
    [Interface Touch] as Touch
}

package "Infraestrutura" {
    [Servidor Render] as Render
    [Sistema de Arquivos] as Storage
}

WebUI --> Flask : HTTP Requests
Touch --> ESP32 : Touch Input
ESP32 --> Flask : Data Processing
Camera --> ESP32 : Image Capture
Flask --> API : Internal Calls
API --> SVM : Classification Request
SVM --> Features : Feature Extraction
Features --> Model : Apply Model
Model --> Dataset : Trained on
Flask --> DB : Store Data
DB --> Flask : Retrieve Stats
Flask --> Render : Deployed on
Render --> Storage : File Access

note right of SVM
    Classifica tampinhas
    vs objetos não-tampinhas
    usando SVM treinado
end note

note right of ESP32
    ESP32-S3-CAM principal
    com câmera integrada
    e interface touch
end note

note right of Dataset
    4.430 imagens de treino
    incluindo fotos adicionais
end note

note right of Render
    Deploy no Render.com
    Python 3.12 compatível
end note

@enduml